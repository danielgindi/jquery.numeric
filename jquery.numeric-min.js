/*
    Library by Daniel Cohen Gindi (danielgindi@gmail.com)
    MIT License!
*/
(function(d){var f=(1.1).toLocaleString().substr(1,1),m=new RegExp("\\"+f,"g");d.fn.numeric=function(a){this.each(function(b,e){var c="INPUT"===e.tagName;"boolean"===typeof a&&(a={decimal:a});a=a||{};"undefined"===typeof a.negative&&(a.negative=c?e.getAttribute("min")?0>parseFloat(e.getAttribute("min")):!0:!0);var h=!1===a.decimal?"":a.decimal||f,k=!!a.negative;"undefined"===typeof a.decimal&&c&&(c=e.getAttribute("step"))&&"any"!==c&&-1===c.indexOf(".")&&-1===c.indexOf(",")&&(h="");return d(e).data("numeric.decimal",
h).data("numeric.negative",k).on("keypress.numericValue",d.fn.numeric.a).on("keyup.numericValue",d.fn.numeric.a).on("blur.numericValue",d.fn.numeric.a).on("input.numericValue",d.fn.numeric.a)});return this};d.fn.valueAsNumber=function(){if(!this.length)return null;if(arguments.length)this.each(function(a){"INPUT"===this.tagName&&"number"===this.type&&"valueAsNumber"in this?this.valueAsNumber=a:this.value=a.toString().replace(/\./,this.data("numeric.decimal")||f)});else{if("INPUT"===this[0].tagName&&
"number"===this[0].type&&"valueAsNumber"in this[0]){var a=this[0].valueAsNumber,b=this[0].getAttribute("min");b&&(b=parseFloat(b),a<b&&(a=b));if(b=this[0].getAttribute("max"))b=parseFloat(b),a>b&&(a=b);return a}a=(a=this.data("numeric.decimal"))?new RegExp("\\"+a,"g"):m;return""===this[0].value?null:parseFloat(this[0].value.replace(a,"."))}};d.fn.numeric.a=function(){var a=d.data(this,"numeric.decimal"),b=d.data(this,"numeric.negative");var e=this.value,c="",h=!1;if("number"!==this.type)var k=this.selectionStart,
f=this.selectionEnd;for(var l=0,g;l<e.length;l++)g=e.charAt(l),"0"<=g&&"9">=g||b&&"-"===g&&!c.length?c+=g:a&&g===a&&!h?(h=!0,c+=g):(l<=k&&k--,l<=f&&f--);e!==c&&(this.value=c,"number"!==this.type&&(this.selectionStart=k,this.selectionEnd=f))};d.fn.removeNumeric=function(){return this.removeData("numeric.decimal").removeData("numeric.negative").off(".numericValue")}})(jQuery);