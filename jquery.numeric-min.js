/*
 jquery.numeric
 git://github.com/danielgindi/jquery.numeric.git
*/
(function(b,e){"function"===typeof define&&define.amd?define("jquery.numeric",["jquery"],e):"object"===typeof exports?module.exports=e(require("jquery")):e(b.jQuery)})(this,function(b){function e(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var f=(1.1).toLocaleString().match(/\d(.*?)\d/)[1],n=new RegExp("\\"+e(f),"g"),h=function(){var a=null;return function(){if(null===a){var b=document.createElement("input");b.type="number";b.value="1";a=1===b.valueAsNumber}return a}}();b.fn.numeric=
function(a){this.each(function(e,d){var c="INPUT"===d.tagName;"boolean"===typeof a&&(a={decimal:a});a=a||{};"undefined"===typeof a.negative&&(a.negative=c?d.getAttribute("min")?0>parseFloat(d.getAttribute("min")):!0:!0);var k=!1===a.decimal?"":"string"===typeof a.decimal&&a.decimal?a.decimal:f,g=!!a.negative;k&&"INPUT"===this.tagName&&"number"===this.type&&"valueAsNumber"in this&&h()&&(k=f);"undefined"===typeof a.decimal&&c&&(c=d.getAttribute("step"))&&"any"!==c&&-1===c.indexOf(".")&&(k="");return b(d).data("numeric.decimal",
k).data("numeric.negative",g).on("keypress.numericValue",b.fn.numeric._event).on("keyup.numericValue",b.fn.numeric._event).on("blur.numericValue",b.fn.numeric._event).on("input.numericValue",b.fn.numeric._event)});return this};b.fn.valueAsNumber=function(){if(!this.length)return null;var a=arguments;if(a.length)return this.each(function(){"INPUT"===this.tagName&&"number"===this.type&&"valueAsNumber"in this&&h()?this.valueAsNumber=a[0]:this.value=null===a[0]||void 0===a[0]?"":a[0].toString().replace(/\./,
b.data(this,"numeric.decimal")||f)});if("INPUT"===this[0].tagName&&"number"===this[0].type&&"valueAsNumber"in this[0]&&h())return this[0].valueAsNumber;var g=this.data("numeric.decimal");g=g?new RegExp(e(g),"g"):n;return""===this[0].value?null:parseFloat(this[0].value.replace(g,"."))};b.fn.numeric._event=function(a){a=b.data(this,"numeric.decimal");var g=b.data(this,"numeric.negative"),d=this.value,c="",k=!1;if("number"!==this.type)var f=this.selectionStart,h=this.selectionEnd;a&&e(a);a&&e(a);for(var l=
0,m;l<d.length;l++)m=d.charAt(l),"0"<=m&&"9">=m||g&&"-"===m&&!c.length?c+=m:a&&d.substr(l,a.length)===a&&!k?(k=!0,c+=a,l+=a.length-1):(l<=f&&f--,l<=h&&h--);d!==c&&(this.value=c,"number"!==this.type&&(this.selectionStart=f,this.selectionEnd=h))};b.fn.removeNumeric=function(){return this.removeData("numeric.decimal").removeData("numeric.negative").off(".numericValue")}});
