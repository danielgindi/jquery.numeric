/*
 jquery.numeric
 git://github.com/danielgindi/jquery.numeric.git
*/
(function(c,e){"function"===typeof define&&define.amd?define("jquery.numeric",["jquery"],e):"object"===typeof exports?module.exports=e(require("jquery")):e(c.jQuery)})(this,function(c){function e(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var g=(1.1).toLocaleString().match(/\d(.*?)\d/)[1],n=new RegExp("\\"+e(g),"g"),h=function(){var a=null;return function(){if(null===a){var b=document.createElement("input");b.type="number";b.value="1";a=1===b.valueAsNumber}return a}}();c.fn.numeric=
function(a){this.each(function(b,f){var d="INPUT"===f.tagName;"boolean"===typeof a&&(a={decimal:a});a=a||{};"undefined"===typeof a.negative&&(a.negative=d?f.getAttribute("min")?0>parseFloat(f.getAttribute("min")):!0:!0);b=!1===a.decimal?"":"string"===typeof a.decimal&&a.decimal?a.decimal:g;var e=!!a.negative;b&&"INPUT"===this.tagName&&"number"===this.type&&"valueAsNumber"in this&&h()&&(b=g);"undefined"===typeof a.decimal&&d&&(d=f.getAttribute("step"))&&"any"!==d&&-1===d.indexOf(".")&&(b="");return c(f).data("numeric.decimal",
b).data("numeric.negative",e).on("keypress.numericValue",c.fn.numeric._event).on("keyup.numericValue",c.fn.numeric._event).on("blur.numericValue",c.fn.numeric._event).on("input.numericValue",c.fn.numeric._event)});return this};c.fn.valueAsNumber=function(){if(!this.length)return null;var a=arguments;if(a.length)return this.each(function(){if("INPUT"===this.tagName&&"number"===this.type&&"valueAsNumber"in this&&h()){var b=a[0];void 0===b&&(b=null);this.valueAsNumber=b}else this.value=null===a[0]||
void 0===a[0]?"":a[0].toString().replace(/\./,c.data(this,"numeric.decimal")||g)});if("INPUT"===this[0].tagName&&"number"===this[0].type&&"valueAsNumber"in this[0]&&h())return this[0].valueAsNumber;var b=this.data("numeric.decimal");b=b?new RegExp(e(b),"g"):n;return""===this[0].value?null:parseFloat(this[0].value.replace(b,"."))};c.fn.numeric._event=function(a){a=c.data(this,"numeric.decimal");var b=c.data(this,"numeric.negative"),f=this.value,d="",g=!1;if("number"!==this.type)var h=this.selectionStart,
m=this.selectionEnd;a&&e(a);a&&e(a);for(var k=0,l;k<f.length;k++)l=f.charAt(k),"0"<=l&&"9">=l||b&&"-"===l&&!d.length?d+=l:a&&f.substr(k,a.length)===a&&!g?(g=!0,d+=a,k+=a.length-1):(k<=h&&h--,k<=m&&m--);f!==d&&(this.value=d,"number"!==this.type&&(this.selectionStart=h,this.selectionEnd=m))};c.fn.removeNumeric=function(){return this.removeData("numeric.decimal").removeData("numeric.negative").off(".numericValue")}});
